@import "tailwindcss";

@plugin "@tailwindcss/typography";
@plugin "tailwindcss-animate";

@custom-variant dark (&:where(.dark, .dark *));

@utility container {
  margin-inline: auto;
  width: 100%;
  padding-inline: 2rem;
  @media (width >= 1400px) {
    max-width: 1400px;
  }
}

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  /* New semantic color tokens */
  --color-bg-primary: hsl(var(--bg-primary));
  --color-bg-secondary: hsl(var(--bg-secondary));
  --color-bg-tertiary: hsl(var(--bg-tertiary));
  --color-bg-hover: hsl(var(--bg-hover));

  --color-text-primary: hsl(var(--text-primary));
  --color-text-secondary: hsl(var(--text-secondary));
  --color-text-tertiary: hsl(var(--text-tertiary));
  --color-text-disabled: hsl(var(--text-disabled));

  --color-border-default: hsl(var(--border-default));
  --color-border-subtle: hsl(var(--border-subtle));

  --color-success: hsl(var(--success));
  --color-success-bg: hsl(var(--success-bg));
  --color-warning: hsl(var(--warning));
  --color-warning-bg: hsl(var(--warning-bg));
  --color-danger: hsl(var(--danger));
  --color-danger-bg: hsl(var(--danger-bg));
  --color-info: hsl(var(--info));
  --color-info-bg: hsl(var(--info-bg));

  --color-accent-brand: hsl(var(--accent-brand));
  --color-accent-pro: hsl(var(--accent-pro));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-fade-in-up: fade-in-up 0.5s ease-out;
  --animate-fade-in-up-delay-100: fade-in-up 0.5s ease-out 0.1s;
  --animate-fade-in-up-delay-200: fade-in-up 0.5s ease-out 0.2s;
  --animate-spin: spin 1s linear infinite;
  --animate-fade-in: fade-in 0.2s ease-out;
  --animate-slide-in-left: slide-in-left 0.3s ease-out;

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  @keyframes slide-in-left {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@layer base {
  :root {
    /* Claude.ai inspired color palette - Light Mode */
    /* Background tokens */
    --background: 0 0% 98%;           /* gray-050 equivalent */
    --foreground: 240 5% 5%;          /* gray-950 equivalent */
    --card: 0 0% 100%;                /* pure white for cards */
    --card-foreground: 240 5% 5%;     /* gray-950 */
    --popover: 0 0% 100%;
    --popover-foreground: 240 5% 5%;

    /* Primary - using gray-050/gray-950 contrast */
    --primary: 240 5% 5%;             /* gray-950 */
    --primary-foreground: 0 0% 98%;   /* gray-050 */

    /* Secondary - using gray-100/gray-600 */
    --secondary: 240 5% 96%;          /* gray-100 */
    --secondary-foreground: 240 5% 5%;

    /* Muted - using gray-100/gray-600 */
    --muted: 240 5% 96%;              /* gray-100 */
    --muted-foreground: 240 3% 40%;   /* gray-600 */

    /* Accent - using heroes-accent inspired warm tone */
    --accent: 15, 48%, 47%;             /* #C46849 inspired */
    --accent-foreground: 0 0% 98%;

    /* Destructive - using error color */
    --destructive: 0 50% 64%;         /* #df6666 inspired */
    --destructive-foreground: 0 0% 98%;

    /* Border and Input - using gray-300 */
    --border: 240 6% 85%;             /* gray-300 */
    --input: 240 6% 85%;
    --ring: 240 5% 5%;
    --radius: 0.5rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;

    /* === New Tokens (Claude Console Style) === */

    /* Background Layers */
    --bg-primary: 53 28.6% 94.5%;        /* Main content bg */
    --bg-secondary: 48 33.3% 97.1%;      /* Page background */
    --bg-tertiary: 60 2.1% 18.4%;        /* Elevated surfaces */
    --bg-hover: 60 2.7% 14.5%;           /* Hover states */

    /* Text Hierarchy */
    --text-primary: 60 2.6% 7.6%;        /* Main text */
    --text-secondary: 60 2.5% 23.3%;     /* Secondary info */
    --text-tertiary: 48 4.8% 59.2%;      /* Subtle text */
    --text-disabled: 45 0.6% 48%;        /* Disabled */

    /* Border & Divider */
    --border-default: 51 16.5% 84.5%;
    --border-subtle: 50 9% 73.7%;

    /* Semantic Colors */
    --success: 97 59.1% 46.1%;
    --success-bg: 97 59.1% 96%;
    --warning: 38 92% 50%;
    --warning-bg: 38 92% 95%;
    --danger: 0 98.4% 75.1%;
    --danger-bg: 0 98.4% 97%;
    --info: 210 65.5% 67.1%;
    --info-bg: 210 65.5% 95%;

    /* Brand Accent */
    --accent-brand: 15, 48%, 47%;    
    --accent-pro: 251 84.6% 74.5%;       /* Pro features */
  }

  .dark {
    /* Claude.ai inspired color palette - Dark Mode */
    /* Background tokens */
    --background: 240 5% 5%;          /* gray-950 */
    --foreground: 0 0% 98%;           /* gray-050 */
    --card: 240 5% 8%;                /* gray-900 */
    --card-foreground: 0 0% 98%;
    --popover: 240 5% 8%;
    --popover-foreground: 0 0% 98%;

    /* Primary - inverted for dark mode */
    --primary: 0 0% 98%;              /* gray-050 */
    --primary-foreground: 240 5% 5%;  /* gray-950 */

    /* Secondary - using gray-850/gray-400 */
    --secondary: 240 5% 12%;          /* gray-850 */
    --secondary-foreground: 0 0% 98%;

    /* Muted - using gray-900/gray-400 */
    --muted: 240 5% 8%;               /* gray-900 */
    --muted-foreground: 240 3% 60%;   /* gray-400 */

    /* Accent - consistent with light mode */
    --accent: 17 47% 54%;             /* #C46849 - same as light mode for consistency */
    --accent-foreground: 0 0% 98%;

    /* Destructive - adjusted for dark mode */
    --destructive: 0 50% 64%;
    --destructive-foreground: 0 0% 98%;

    /* Border and Input - using gray-600 */
    --border: 240 3% 40%;             /* gray-600 */
    --input: 240 3% 40%;
    --ring: 0 0% 83%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;

    /* === New Dark Tokens (Claude Console Style) === */

    /* Background Layers */
    --bg-primary: 30 3.3% 11.8%;         /* Main content bg */
    --bg-secondary: 60 2.7% 14.5%;       /* Page background */
    --bg-tertiary: 60 2.1% 18.4%;        /* Elevated surfaces */
    --bg-hover: 60 2.1% 21%;             /* Hover states */

    /* Text Hierarchy */
    --text-primary: 48 33.3% 97.1%;      /* Main text */
    --text-secondary: 50 9% 73.7%;       /* Secondary info */
    --text-tertiary: 48 4.8% 59.2%;      /* Subtle text */
    --text-disabled: 45 0.6% 48%;        /* Disabled */

    /* Border & Divider */
    --border-default: 60 2.1% 25%;
    --border-subtle: 60 2.1% 30%;

    /* Semantic Colors (Dark adjusted) */
    --success: 97 59.1% 46.1%;
    --success-bg: 97 59.1% 15%;
    --warning: 38 92% 50%;
    --warning-bg: 38 92% 15%;
    --danger: 0 98.4% 75.1%;
    --danger-bg: 0 98.4% 15%;
    --info: 210 65.5% 67.1%;
    --info-bg: 210 65.5% 15%;

    /* Brand Accent (same in dark) */
    --accent-brand: 15 63.1% 59.6%;
    --accent-pro: 251 84.6% 74.5%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Screen reader only utility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* MDEditor Dark Mode Customization */
[data-color-mode="dark"] .w-md-editor {
  background-color: hsl(var(--card));
  color: hsl(var(--card-foreground));
  border-color: hsl(var(--border));
}

[data-color-mode="dark"] .w-md-editor-toolbar {
  background-color: hsl(var(--muted));
  border-color: hsl(var(--border));
}

[data-color-mode="dark"] .w-md-editor-toolbar button {
  color: hsl(var(--muted-foreground));
}

[data-color-mode="dark"] .w-md-editor-toolbar button:hover {
  background-color: hsl(var(--accent));
  color: hsl(var(--accent-foreground));
}

[data-color-mode="dark"] .w-md-editor-text-pre,
[data-color-mode="dark"] .w-md-editor-text-input {
  background-color: hsl(var(--card));
  color: hsl(var(--card-foreground));
}

[data-color-mode="dark"] .w-md-editor-text-pre > code,
[data-color-mode="dark"] .w-md-editor-text-input {
  color: hsl(var(--foreground));
}

/* Scrollbar Styling */
.w-md-editor-text-pre::-webkit-scrollbar,
.w-md-editor-text-input::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.w-md-editor-text-pre::-webkit-scrollbar-track,
.w-md-editor-text-input::-webkit-scrollbar-track {
  background: hsl(var(--muted));
}

.w-md-editor-text-pre::-webkit-scrollbar-thumb,
.w-md-editor-text-input::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground));
  border-radius: 4px;
}

.w-md-editor-text-pre::-webkit-scrollbar-thumb:hover,
.w-md-editor-text-input::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--foreground));
}

/* === Motion & Animation Utilities (Claude.ai Style) === */
@utility duration-fastest {
  transition-duration: 25ms;
}

@utility duration-faster {
  transition-duration: 50ms;
}

@utility duration-fast {
  transition-duration: 100ms;
}

@utility duration-normal {
  transition-duration: 200ms;
}

@utility duration-slow {
  transition-duration: 300ms;
}

@utility duration-slower {
  transition-duration: 500ms;
}

@utility ease-claude {
  transition-timing-function: cubic-bezier(0.165, 0.85, 0.45, 1);
}

@utility ease-expo-out {
  transition-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
}

@utility animate-delay-100 {
  animation-delay: 100ms;
}

@utility animate-delay-200 {
  animation-delay: 200ms;
}

@utility animate-delay-300 {
  animation-delay: 300ms;
}

@utility interactive-scale {
  transition-property: transform;
  transition-duration: 100ms;
  transition-timing-function: cubic-bezier(0.165, 0.85, 0.45, 1);
  &:hover {
    transform: scale(1.015);
  }
  &:active {
    transform: scale(0.985);
  }
  @media (prefers-reduced-motion: reduce) {
    transition: none;
    &:hover {
      transform: scale(1);
    }
    &:active {
      transform: scale(1);
    }
  }
}

@utility interactive-opacity {
  transition-property: opacity;
  transition-duration: 150ms;
  &:hover {
    opacity: 0.9;
  }
  &:active {
    opacity: 0.8;
  }
  @media (prefers-reduced-motion: reduce) {
    transition: none;
  }
}

/* Claude.ai inspired smooth hover transitions */
@utility smooth-hover {
  transition-property: color, background-color, border-color, box-shadow;
  transition-duration: 300ms;
  transition-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
  @media (prefers-reduced-motion: reduce) {
    transition: none;
  }
}

/* Highlight.js GitHub theme for code blocks */
.hljs {
  background-color: theme("colors.slate.100");
  color: #24292e;
}

.dark .hljs {
  background-color: theme("colors.slate.800");
  color: #c9d1d9;
}

.hljs-doctag,
.hljs-keyword,
.hljs-meta .hljs-keyword,
.hljs-template-tag,
.hljs-template-variable,
.hljs-type,
.hljs-variable.language_ {
  color: #d73a49;
}

.dark .hljs-doctag,
.dark .hljs-keyword,
.dark .hljs-meta .hljs-keyword,
.dark .hljs-template-tag,
.dark .hljs-template-variable,
.dark .hljs-type,
.dark .hljs-variable.language_ {
  color: #ff7b72;
}

.hljs-title,
.hljs-title.class_,
.hljs-title.class_.inherited__,
.hljs-title.function_ {
  color: #6f42c1;
}

.dark .hljs-title,
.dark .hljs-title.class_,
.dark .hljs-title.class_.inherited__,
.dark .hljs-title.function_ {
  color: #d2a8ff;
}

.hljs-attr,
.hljs-attribute,
.hljs-literal,
.hljs-meta,
.hljs-number,
.hljs-operator,
.hljs-selector-attr,
.hljs-selector-class,
.hljs-selector-id,
.hljs-variable {
  color: #005cc5;
}

.dark .hljs-attr,
.dark .hljs-attribute,
.dark .hljs-literal,
.dark .hljs-meta,
.dark .hljs-number,
.dark .hljs-operator,
.dark .hljs-selector-attr,
.dark .hljs-selector-class,
.dark .hljs-selector-id,
.dark .hljs-variable {
  color: #79c0ff;
}

.hljs-string,
.hljs-meta .hljs-string,
.hljs-regexp {
  color: #032f62;
}

.dark .hljs-string,
.dark .hljs-meta .hljs-string,
.dark .hljs-regexp {
  color: #a5d6ff;
}

.hljs-built_in,
.hljs-symbol {
  color: #e36209;
}

.dark .hljs-built_in,
.dark .hljs-symbol {
  color: #ffa657;
}

.hljs-comment,
.hljs-code,
.hljs-formula {
  color: #6a737d;
}

.dark .hljs-comment,
.dark .hljs-code,
.dark .hljs-formula {
  color: #8b949e;
}

.hljs-name,
.hljs-quote,
.hljs-selector-pseudo,
.hljs-selector-tag {
  color: #22863a;
}

.dark .hljs-name,
.dark .hljs-quote,
.dark .hljs-selector-pseudo,
.dark .hljs-selector-tag {
  color: #7ee787;
}

.hljs-subst {
  color: #24292e;
}

.dark .hljs-subst {
  color: #c9d1d9;
}

.hljs-section {
  color: #005cc5;
  font-weight: bold;
}

.dark .hljs-section {
  color: #1f6feb;
  font-weight: bold;
}

.hljs-bullet {
  color: #735c0f;
}

.dark .hljs-bullet {
  color: #f2cc60;
}

.hljs-emphasis {
  color: #24292e;
  font-style: italic;
}

.dark .hljs-emphasis {
  color: #c9d1d9;
  font-style: italic;
}

.hljs-strong {
  color: #24292e;
  font-weight: bold;
}

.dark .hljs-strong {
  color: #c9d1d9;
  font-weight: bold;
}

.hljs-addition {
  color: #22863a;
  background-color: #f0fff4;
}

.dark .hljs-addition {
  color: #aff5b4;
  background-color: #033a16;
}

.hljs-deletion {
  color: #b31d28;
  background-color: #ffeef0;
}

.dark .hljs-deletion {
  color: #ffdcd7;
  background-color: #67060c;
}
